# 7.7

## 웹서버

- IP주소: 전화 번호처럼 통신기기들이 서로 연결되기 위해 필요한 주소
    - IPv4: 42억개(0.0.0.0 ~ 255.255.255.255)
      - 현시대의 통신기기들의 수를 감당하기에는 너무 작아졌다.
    - IPv6: 새로운 형식의 주소
  
- NAT(Network Address Translation): 사설 IP를 쓰고 있는 Host들이 클라이언트로써 외부IP(서버)에 접속할 수 있게 해주는 기술
  - 외부로 하는 요청이 내(내부IP)가 하는 요청임을 알려야하고, 응답을 받을 때는 '라우터'로 일단 받고 다시 '나(내부IP)'에게 받아야한다.

- 공개IP(public IP) = 주소를 알면 누구나 접근할 수 있다.
- 비공개IP(사설, private IP) = 지역 네트워크 안에서만 쓸 수 있다.
  - 사설IP에 할당될 수 있는 IPv4는 아래 범위 내에서만 쓰자고 약속 되어있다.
  - 10.0.0.0~10.255.255.255
  - 172.16.0.0~172.31.255.255
  - 192.168.0.0~192.168.255.255


### Router 라우터
- 라우터(공유기)는 WAN과 LAN 사이에 위치해서 하나의 IP주소로 여러 호스트들에게 내부 IP주소들을 분배하는 역할을 한다. 공유기에 새로운 통신기기가 추가로 연결되면 공유기가 알아서 숫자 1 증가한 내부IP를 할당하는 식이다.
- 공유기 또한 지역네트워크의 일원이기 때문에 첫번째 내부IP를 할당 받는데, 그 내부 IP를 Gateway Address 라고 한다.


### Port 포트
- 각 서비스마다 부여받은 번호이다.
- 하나의 컴퓨터에서 게임서버, 채팅서버 등 여러가지 서비스가 제공될 수 있다.(0~65535번)
  - 0~1023: 예약된 번호
  - 22: SSH
  - 80: HTTP
  - 3306: MYSQL
  - 1521: Oracle
  - 8080: Tomcat

- **포트포워딩**: 외부에서 내부의 컴퓨터 중 하나로 접속할 수 있게 하는 기술
  - 공인ip:포트번호 -> 사설ip:포트번호(공유기의 포트포워드 설정에서 관리 할 수 있다.)


### Dynamic IP(유동IP)
- ISP(Internet Service Provider)(=인터넷 서비스 제공자, SKT,KT 등)의 가입자들 마다 고정IP를 하나씩 할당하면 IP주소가 부족하기 때문에 돌려막기 한다.
- 하나의 ip로 일정한 서비스를 제공하기 위해서는 컴퓨터를 끄지 않아서 ip가 바뀌지 않게 하거나/ 더 비싼돈을 주고 끄더라도 바뀌지 않는 고정IP를 할당받거나/ 바뀔때마다 도메인에게 바뀐 ip를 알려준다.

### DHCP(Dynamic Host Configuration Protocol)
- 할당받은 ip가 바뀔 때 사용되는 약속으로 자동으로 네트워크 정보들을 할당한다.
- 윈도우 - 제어판 - 네트워크&인터넷 - 네트워크 공유센터 - 연결 - 속성 - TCP/IPv4 - 속성
- 자동으로 설정하게 할 수도 수동으로 지정할 수도 있다.
- 매커니즘: DHCP 서버가 있어야 하는데 보통 공유기에 내장되어있다. Host에는 DHCP Client가 깔려있어야하는데 보통 host에 내장되어있다, host하드웨어에 있는 고유한 MAC주소가 있고, 클라이언트가 IP주소를 요청하면 서버에서 유효기간이 있는 IP주소를 일정시간 부여하는 방식이다.
  - @Autowired
    BoardMapper mapper; 와 비슷한 방식이다.(BoardMapper 타입으로 쓸 수 있는 인스턴스의 할당을 Spring에게 요청하는 것)



- 추가 사항
  - Dynamic DNS(동적 DNS)
  - NAS(Network Attached Stroage): 네트워크 결합 저장소
  - 웹호스팅, 서버호스팅, 클라우드 컴퓨팅
  - Domain
