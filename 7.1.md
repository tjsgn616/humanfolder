# 7.1

스프링 실습 및 3.9설치 참고: https://kimvampa.tistory.com/183?category=843151

Maven코드 얻는 곳: https://mvnrepository.com/

## Spring?
- 이름의 유래: EJB 프레임워크의 시대를 끝내고 개발자들의 봄이 왔다는 뜻

- 스프링을 배우는 이유:
  - 대부분의 자바를 쓰는 회사에서 스프링을 사용하고 있기 떄문.
  - 무료이며 여러명의 개발자가 협업할 수 있다. 근본적인 문제 해결이 가능하다.
  - 프레임워크 위의 프레임 워크이다.

### 스프링 환경설정
- JDK(Java Development Kit): 자바로 개발을 하기위해 필요한 개발 도구.
  
- STS(Spring Tool Suite): 이클립스인데 스프링전용으로 만든 확장팩
  - STS3: 스프링전용
  - STS4: 스프링부트 전용
  
- JDBC(Java Database Connectivity): 자바로 데이터베이스를 연결하기 위한 인터페이스
  
- OJDBC(Oracle+JDBC): 오라클에서 구현한 JDBC 구현체
  
- Maven: 빌드 툴
  - 빌드(Build): 펼쳐져 있는 수많은 리소스, 코드 등을 최종적으로 묶어서 실행할 수 있는 소프트 웨어로 변환하는 작업(빌드에 컴파일 프로세스가 포함되어있다.)
    - 컴파일(compile): 소스를 기계언어로 바꿔주는 것
    - 기계어: 0,1로 이루어진 코드
    - 이렇게 변환해주는 놈을 컴파일러라고 한다.(예:javac)
  
- pom.xml: 이 프로젝트가 의존하고 있는 라이브러리들을 관리한다. 이 설정을 토대로 라이브러리들을 다운받고 링크하고 빌드한다.
  
- HikariCP:Connection Pool 중에서 가장 유명한 제품
  - Connection Pool을 쓰는이유는 연결을 맺고 끊는 작업이 자원을 많이 먹기 때문에 미리 만들어놓고 대여한다음 반납하는 기법을 사용하기 위함이다.

- log4j: 로거(logging)로서 프로그램에서 일어나고 있는 일(상황)을 더 편하고 자세하기 살펴보기 쉽게함.
  - log4jdbc: SQl문을 실행한 로그를 효과적이고 직관적으로 볼 수 있게 해주는 라이브러리.
  
- mybatis: 자바코드와 sql을 분리하기 위한 프레임 워크
  - 분리하는 이유: 높은 응집도, 낮은 결합도의 좋은 설계를 위해서 (=유지보수를 용이하게 하기 위해)
  - 예) 연결 이상 일 때는 연결만, 쿼리 이상일 때는 쿼리만 수정 할 수 있음

- lombok: getter/setter, toString 함수를 자동 생성해주는 라이브러리
  - 의존성으로 추가한 것은 프로젝트에서 참고한 것이고, 이클립스에서 사용하기 위해서는 프로젝트가 아닌 이클립스에 설치하는 행위를 해줘야 한다.(프로젝트마다 할 필요는 없고 Spring에서 한 번만.)
  - 

- junit: 자바에서 단위 테스트(가장 작은 단위로 할 수 있는 테스트, 함수를 프로그램의 흐름과 관계없이 그 함수만 별도로 테스트 가능)를 할 수 있는 프레임워크
  - junit을 사용하려고 하면 junit 관련 의존성 라이브러리를 받고 자바 빌드 패스에 넣고 src/test/java에 테스트할 함수를 만들고 그 함수를 우클릭해서 run-junit test를 하면 된다.

- Windows- preference - maven - user settings 에 있는 경로로 라이브러리들이 다운 받아지며 프로젝트들은 그 경로를 참조해서 사용한다.( = 프로젝트들이 무거운 라이브러리들을 가지고 가는 것이 아니고 위의 경로 속 라이브러리를 참조하기만 한다.)

### 책(코드로 배우는 스프링 웹프로젝트  개정판)기타 유의사항
WHY???

- JDK 설치한 후에는 환경 변수에서 JAVA_HOME을 설정: 설치된 java를 참조할 경로를 환경변수로 지정

- 9.0을 사용하는 이유?: jdk1.8이상을 사용하기 위해서
  - Tomcat을 사용할 때는 공식 사이트 문서를 통해 자신의 환경에 맞는 버전을 이용해야 한다.

- 패키지 명은 org.zerock.controller로 지정: 왜?

- 다운로드 하는 라이브러리들은 사용자 폴더 내 .m2라는 이름의 폴더를 이용한다: 왜 그 폴더?

- p.47 스프링의 역사, 특징, 의존성 주입
  - 의존성 주입?

- 데이터 베이스 연결을 이용할 때는 커넥션 풀을 이용하므로 아예 스프링에 커넥션 풀을 등록해서 사용하는 것이 좋다: 왜?

- p.117 로딩 구조(중요한 부분)

- p.165 네이밍 규칙 
- p.166 VO, DTO
  - VO(value Object)패키지: 데이터 타입을 저장한다.
  - DTO(Data Access Object) 역할 패키지: 데이터 베이스에 접속하는 역할

- I/O ??: 



### 단축키
- ctrl space: 자동완성
- ctrl shift r: 파일명으로 빨리찾기
- ctrl d: 한줄 삭제
- ctrl alt 아래방향키: 해당줄 복붙
- f3: 정의부로 이동
- alt shift s: source 파일로 이동


## 단위 테스트(J Unit)
- 단위 테스트(Unit Test): 하나의 모듈(기능, 메소드)를 기준으로 독립적으로 진행되는 가장 작은 단위의 테스트
  - '어떤 기능이 실행되면 어떤 결과가 나온다' 정도의 테스트
- 통합 테스트(Integration Test): 모듈을 통합하기 위해 그 전의 모듈간의 호환성을 확인하기 위해 수행되는 테스트
  - 서로의 관계속에서 이상이 없는지 테스트한다.

### TDD(Test-Driven Development, 테스트 주도 개발)
  - 단위 테스트 주도적 개발
  - 독립적으로 테스트 하기 위해 다른 객체 대신 다른 객체를 임시로 주입해야하는데 그걸 stub 이라고 한다.

- 좋은 테스트의 규칙 5가지
  - Fast: 빠르게 동작하여 자주 돌릴 수 있어야 한다.
  - Independent: 독립적이여서 서로 의존해서는 안된다.
  - Repeatable: 어떤 환경에서든 반복할 수 있어야한다.
  - Self-Validating: 눈으로 보는게 아니라 자체적으로 boolean 값을 리턴하도록 한다.
  - Timely: 실제 코드를 구현하기 직전에 구현하는것이 적시 되어야한다.

### 테스트 라이브러리
  - 대표주자 3가지
  - JUnit5: 자바 단위테스트를 위한 프레임 워크
  - AssertJ: 자바 테스트를 도와주는 다양한 문법 지원
  - Mockito: 개발자가 동작을 직접 제어할 수 있는 가짜 객체를 지원하는 테스트 프레임 워크
    - 스프링으로 개발을 할 때는 여러 객체들간의 의존성이 존재해서 단위 테스트 작성을 어렵게 하는데 이를 위해 가짜 객체를 주입시켜주는 Mockito 라이브러리 활용.




## Oracle 문법
### Join
- 연습 링크: https://sqlzoo.net/wiki/The_JOIN_operation
- 답안 참고: https://github.com/Chenzilla/SQL_Zoo/blob/master/4_soutions.sql

- 다른 테이블에서 정보를 가져 오는법 : Join
- 양측에 일치하는 것 가져오기
    ```Select 사원.사원명, 사원.부서ID, 부서.부서명, 부서.부서장명 From 사원,부서 Where 부서.부서id = 사원.부서id```
    양측 테이블에 둘 다 있는 정보만 가져온다.
    (+)라는 기호를 기준이 아닌 컬럼 쪽에 붙여준다. >> 양측 다 일치하는  데이터만 가져온다.

- 부서를 기준으로 가져오기
    ```From 사원, 부서 Where 부서.부서id = 사원.부서id(+)```
    //기준이 부서라는 말, 부서테이블에 있는 모든 정보를 보여주고 사원테이블의 정보를 추가로 가져온다.>> 부서를 기준으로 데이터를 가져오고 사원명, 부서ID를 사원에서 가져와서 넣어준다.

- 